(function(e){function t(t){for(var a,s,i=t[0],l=t[1],c=t[2],d=0,m=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&m.push(o[s][0]),o[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,i=1;i<r.length;i++){var l=r[i];0!==o[l]&&(a=!1)}a&&(n.splice(t--,1),e=s(s.s=r[0]))}return e}var a={},o={app:0},n=[];function s(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=a,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0f7f":function(e,t,r){},"18bd":function(e,t,r){},"1f0e":function(e,t,r){},"21a5":function(e,t,r){"use strict";var a=r("3b5a"),o=r.n(a);o.a},"29fa":function(e,t,r){"use strict";var a=r("dbc4"),o=r.n(a);o.a},"35ee":function(e,t,r){"use strict";var a=r("18bd"),o=r.n(a);o.a},"3a27":function(e,t,r){"use strict";var a=r("1f0e"),o=r.n(a);o.a},"3b5a":function(e,t,r){},"4d41":function(e,t,r){e.exports=r.p+"img/avatar.6ca6e79c.png"},"4efd":function(e,t,r){"use strict";var a=r("e657"),o=r.n(a);o.a},"4f26":function(e,t,r){"use strict";var a=r("c63e"),o=r.n(a);o.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},n=[],s={name:"app"},i=s,l=r("2877"),c=Object(l["a"])(i,o,n,!1,null,null,null),u=c.exports,d=r("8c4f"),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"home-container"},[r("el-aside",{attrs:{width:"201px"}},[r("v-aside")],1),r("el-container",[r("el-header",[r("v-head")],1),r("el-main",[r("keep-alive",[r("router-view")],1)],1)],1)],1)},p=[],f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"background-color":"#324057","text-color":"#fff","active-text-color":"#ffd04b","default-active":"welcome",router:""}},[r("div",{staticClass:"title"},[e._v("食验室后台管理系统")]),r("el-menu-item",{attrs:{index:"welcome"}},[r("i",{staticClass:"el-icon-menu"}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("首页")])]),r("el-submenu",{attrs:{index:"order"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-tickets"}),r("span",[e._v("订单管理")])]),r("el-menu-item",{attrs:{index:"order"}},[e._v("订单列表")])],2),r("el-submenu",{attrs:{index:"foods"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-goods"}),r("span",[e._v("商品管理")])]),r("el-menu-item-group",[r("el-menu-item",{attrs:{index:"foods"}},[e._v("商品列表")]),r("el-menu-item",{attrs:{index:"addfoods"}},[e._v("添加商品")]),r("el-menu-item",{attrs:{index:"cover"}},[e._v("设置封面")]),r("el-menu-item",{attrs:{index:"category"}},[e._v("分类列表")])],1)],2),r("el-submenu",{attrs:{index:"user"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-user"}),r("span",[e._v("会员管理")])]),r("el-menu-item",{attrs:{index:"member"}},[e._v("会员列表")])],2),r("el-submenu",{attrs:{index:"business"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-paperclip"}),r("span",[e._v("商务合作")])]),r("el-menu-item",{attrs:{index:"business"}},[e._v("发布推文")])],2)],1)},g=[],h=(r("59ec"),{}),b=Object(l["a"])(h,f,g,!1,null,"eff43364",null),v=b.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header_container"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),e._l(e.$route.meta,(function(t,r){return a("el-breadcrumb-item",{key:r},[e._v(e._s(t))])}))],2),a("el-dropdown",{attrs:{"menu-align":"start"},on:{command:e.handleCommand}},[a("img",{staticClass:"avator",attrs:{src:r("4d41")}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"home"}},[e._v("首页")]),a("el-dropdown-item",{attrs:{command:"logout"}},[e._v("退出")])],1)],1)],1)},w=[],R={methods:{handleCommand:function(e){"home"==e?this.$router.push("/home"):(window.localStorage.clear(),this.$router.push("/login"),this.$message.success("退出成功"))}}},x=R,_=(r("29fa"),Object(l["a"])(x,y,w,!1,null,"89bcc5cc",null)),F=_.exports,$={components:{vAside:v,vHead:F}},k=$,O=(r("d408"),Object(l["a"])(k,m,p,!1,null,"7e230ccc",null)),C=O.exports,L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container"},[r("div",{staticClass:"login_box"},[e._m(0),r("div",{staticClass:"login_title"},[e._v("食验室后台管理系统")]),r("el-form",{ref:"loginRef",staticClass:"login_form",attrs:{"label-width":"0px",model:e.loginForm,rules:e.loginRules}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{"prefix-icon":"iconfont icon-yonghu"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{"prefix-icon":"iconfont icon-lock","show-password":""},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),r("el-form-item",{staticClass:"btns"},[r("el-button",{attrs:{type:"primary",icon:"el-icon-lollipop"},on:{click:e.login}},[e._v("登录")]),r("el-button",{attrs:{type:"info",icon:"el-icon-refresh-right"},on:{click:e.resetLogin}},[e._v("重置")])],1)],1)],1)])},E=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logo_box"},[a("img",{attrs:{src:r("4d41"),alt:"logo"}})])}],j=(r("96cf"),r("1da1")),q={data:function(){return{loginForm:{username:"",password:""},loginRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入登录密码",trigger:"blur"},{min:3,max:18,message:"长度在 6 到 15 个字符",trigger:"blur"}]}}},methods:{resetLogin:function(){this.$refs.loginRef.resetFields()},login:function(){var e=this;this.$refs.loginRef.validate(function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(r){var a,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.URL.Login,console.log(a),r){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.$http.post(a,e.loginForm).catch((function(){e.$message.error("NETWORK ERROR")}));case 6:if(o=t.sent,n=o.data,200===n.status){t.next=10;break}return t.abrupt("return",e.$message.error("密码或用户名错误"));case 10:e.$message.success("登录成功"),window.localStorage.setItem("admin_token",e.loginForm.username),e.$router.push("/home");case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},S=q,z=(r("4f26"),Object(l["a"])(S,L,E,!1,null,"dfe08f12",null)),I=z.exports,U=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},P=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h3",[e._v("Welcome")])])}],N={},W=Object(l["a"])(N,U,P,!1,null,null,null),V=W.exports,T=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-card",{attrs:{shadow:"hover"}},[r("el-form",[r("el-row",{attrs:{gutter:5}},[r("el-col",{attrs:{span:6}},[r("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-col",{attrs:{span:8}},[r("el-input",{attrs:{placeholder:"请输入订单编号",clearable:""},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1),r("el-col",{attrs:{span:4}},[r("el-button",{attrs:{type:"primary"}},[e._v("查询")])],1)],1)],1)],1),r("el-table",{attrs:{data:e.tableData,fit:"",border:"","header-cell-style":{background:"#ffd0bd",color:"#606266"}}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[r("el-form-item",{attrs:{label:"订单编号"}},[r("span",[e._v(e._s(t.row.name))])]),r("el-form-item",{attrs:{label:"名称"}},[r("span",[e._v(e._s(t.row.shop))])]),r("el-form-item",{attrs:{label:"金额"}},[r("span",[e._v(e._s(t.row.id))])]),r("el-form-item",{attrs:{label:"店铺 ID"}},[r("span",[e._v(e._s(t.row.shopId))])]),r("el-form-item",{attrs:{label:"商品分类"}},[r("span",[e._v(e._s(t.row.category))])]),r("el-form-item",{attrs:{label:"店铺地址"}},[r("span",[e._v(e._s(t.row.address))])]),r("el-form-item",{attrs:{label:"商品描述"}},[r("span",[e._v(e._s(t.row.desc))])])],1)]}}])}),r("el-table-column",{attrs:{label:"订单编号",prop:"id"}}),r("el-table-column",{attrs:{label:"金额",prop:"desc"}}),r("el-table-column",{attrs:{label:"订单状态",prop:"desc"}}),r("el-table-column",{attrs:{label:"创建时间"}}),r("el-table-column",{attrs:{label:"操作"}})],1),r("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-sizes":[50,100,150,200],"page-size":e.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.res.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},D=[],K={data:function(){return{tableData:[{id:"12987122",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"},{id:"12987123",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"},{id:"12987125",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"},{id:"12987126",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"}],queryInfo:{query:"",pagenum:1,pagesize:2},options:[{value:"1",label:"已支付"},{value:"2",label:"待支付"},{value:"3",label:"已关闭"}],value:"",input:"",res:[]}},methods:{tableRowClassName:function(e){var t=e.rowIndex;return 1===t?"warning-row":3===t?"success-row":""},getUserList:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="https://jsonplaceholder.typicode.com/todos",t.next=3,e.$http.get(r,(function(e){return e}));case 3:a=t.sent,o=a.data,e.res=o;case 6:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){console.log(e),this.queryInfo.pagesize=e,this.getUserList()},handleCurrentChange:function(e){console.log(e),this.queryInfo.pagenum=e,this.getUserList()}},created:function(){this.getUserList()}},M=K,A=(r("ae30"),r("4efd"),Object(l["a"])(M,T,D,!1,null,"6c361c3e",null)),B=A.exports,J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-card",{attrs:{shadow:"hover"}},[r("el-row",{attrs:{gutter:5}},[r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{placeholder:"根据分类筛选",clearable:""},on:{change:e.filterbyCategory,clear:e.getFoodsList},model:{value:e.queryCategory.query,callback:function(t){e.$set(e.queryCategory,"query",t)},expression:"queryCategory.query"}},e._l(e.categoryForm.categoryList,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{placeholder:"根据状态筛选",clearable:""},on:{change:e.filterbyStatus,clear:e.getFoodsList},model:{value:e.queryStatus.query,callback:function(t){e.$set(e.queryStatus,"query",t)},expression:"queryStatus.query"}},e._l(e.options,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-col",{attrs:{span:6}},[r("el-input",{attrs:{placeholder:"请输入商品名称",clearable:""},on:{clear:e.getFoodsList},model:{value:e.queryInfo.query,callback:function(t){e.$set(e.queryInfo,"query",t)},expression:"queryInfo.query"}})],1),r("el-col",{attrs:{span:1}},[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getFoodsList}},[e._v("查询")])],1),r("el-col",{attrs:{span:2,offset:7}},[r("el-button",{attrs:{icon:"el-icon-plus",plain:""},on:{click:e.addFoods}},[e._v("添加")])],1)],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.res,border:"",fit:"","row-class-name":e.tableRowClassName,size:"mini","header-cell-style":{background:"#eed2d8",color:"#606266"}}},[r("el-table-column",{attrs:{type:"index",label:"#",align:"center"}}),r("el-table-column",{attrs:{prop:"imageURL",label:"主图",width:"61%",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("el-avatar",{attrs:{src:e.row.imageURL,icon:"el-icon-user-solid",shape:"square"}})]}}])}),r("el-table-column",{attrs:{prop:"category",label:"分类",align:"center"}}),r("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),r("el-table-column",{attrs:{prop:"priced",label:"原价",align:"center",width:"80%"}}),r("el-table-column",{attrs:{prop:"price",label:"现价",align:"center",width:"80%"}}),r("el-table-column",{attrs:{prop:"stock",label:"库存",align:"center",width:"80%"}}),r("el-table-column",{attrs:{prop:"cover",label:"设为封面",width:"80%",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#C0CCDA","active-value":1,"inactive-value":0},on:{change:function(r){return e.changeCover(t.row)}},model:{value:t.row.cover,callback:function(r){e.$set(t.row,"cover",r)},expression:"scope.row.cover"}})]}}])}),r("el-table-column",{attrs:{prop:"status",label:"状态",width:"140%",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-switch",{attrs:{"active-text":"上架","inactive-text":"下架","active-value":1,"inactive-value":0},on:{change:function(r){return e.changeStatus(t.row)}},model:{value:t.row.status,callback:function(r){e.$set(t.row,"status",r)},expression:"scope.row.status"}})]}}])}),r("el-table-column",{attrs:{label:"操作",width:"140%",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"small",icon:"el-icon-view",circle:""},on:{click:function(r){return e.handleView(t.row)}}}),r("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-edit-outline",circle:""},on:{click:function(r){return e.handleEdit(t.row)}}}),r("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(r){return e.handleDelete(t.row)}}})]}}])})],1),r("el-dialog",{attrs:{title:"编辑内容",visible:e.editVisible},on:{"update:visible":function(t){e.editVisible=t}}},[r("el-form",{attrs:{model:e.form,rules:e.editRules}},[r("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1),r("el-form-item",{attrs:{label:"电话","label-width":e.formLabelWidth,prop:"mobile"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),r("el-form-item",{attrs:{label:"余额","label-width":e.formLabelWidth,prop:"remain"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.remain,callback:function(t){e.$set(e.form,"remain",e._n(t))},expression:"form.remain"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("保 存")])],1)],1),r("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-sizes":[5,10],"page-size":e.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},G=[],H=(r("4160"),r("159b"),{data:function(){return{editRules:{mobile:[{required:!0,message:"请输入电话号码"},{min:11,max:11,message:"号码长度为11位"}],remain:[{required:!0,message:"请输入余额"},{type:"number",message:"余额必须为数字"}]},queryInfo:{query:"",pagenum:1,pagesize:5},queryCategory:{query:"",pagenum:1,pagesize:5},queryStatus:{query:"",pagenum:1,pagesize:5},editVisible:!1,form:{},formLabelWidth:"80px",res:[],total:0,loading:!0,categoryForm:{categoryList:[],name:""},options:[{value:1,label:"上架"},{value:0,label:"下架"}]}},watch:{$route:function(){this.getFoodsList(),this.getCategory()}},methods:{tableRowClassName:function(e){var t=e.rowIndex;return 1===t?"warning-row":3===t?"success-row":""},filterbyCategory:function(){this.queryCategory.pagenum=this.queryInfo.pagenum,this.queryCategory.pagesize=this.queryInfo.pagesize,this.getFoodsLists(this.queryCategory)},filterbyStatus:function(){this.queryCategory.pagenum=this.queryInfo.pagenum,this.queryCategory.pagesize=this.queryInfo.pagesize,this.getFoodsLists(this.queryStatus)},getCategory:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var r,a,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.URL.Category,a=[],t.next=4,e.$http.get(r).catch((function(){return e.$message.error("NETWORK ERROR")}));case 4:o=t.sent,n=o.data,n.forEach((function(e){a.push(JSON.parse(e))})),e.categoryForm.categoryList=a;case 8:case"end":return t.stop()}}),t)})))()},getFoodsList:function(){this.getFoodsLists(this.queryInfo)},getFoodsLists:function(e){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function r(){var a,o,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.loading=!0,a=t.URL.Foods,o=[],r.next=5,t.$http.get(a,{params:e}).catch((function(){t.$message.error("NETWORK ERROR")}));case 5:n=r.sent,s=n.data,t.loading=!1,console.log(s),s.foods.forEach((function(e){o.push(JSON.parse(e))})),t.res=o,t.total=s.total,console.log(t.res);case 13:case"end":return r.stop()}}),r)})))()},addFoods:function(){this.$router.push("/addfoods")},handleSizeChange:function(e){console.log(e),this.queryInfo.pagesize=e,this.getFoodsList()},handleCurrentChange:function(e){console.log(e),this.queryInfo.pagenum=e,this.getFoodsList()},handleView:function(e){this.$router.push({name:"ViewFoods",params:e})},handleEdit:function(e){console.log(e),this.$router.push({name:"EditFoods",params:e})},saveEdit:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.editVisible=!1,r=e.URL.Foods,t.next=4,e.$http.patch(r,{data:{id:e.form.id,nickname:e.form.nickname,mobile:e.form.mobile,remain:e.form.remain}}).catch((function(){e.$message.error("NETWORK ERROR")}));case 4:a=t.sent,o=a.data,200!==o.status&&e.$message.error("修改失败，请重试"),e.$message.success("保存成功");case 8:case"end":return t.stop()}}),t)})))()},handleDelete:function(e){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function r(){var a,o,n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(){t.$message.error("NETWORK ERROR")}));case 2:if(a=r.sent,console.log(a,e),"confirm"===a){r.next=6;break}return r.abrupt("return",t.$message.info("已经取消删除"));case 6:return o=t.URL.Foods,r.next=9,t.$http.delete(o,{params:{id:e.id}}).catch((function(){t.$message.error("NETWORK ERROR")}));case 9:if(n=r.sent,s=n.data,200===s.status){r.next=13;break}return r.abrupt("return",t.$message.error("删除失败"));case 13:return i=t.URL.Upload,r.next=16,t.$http.patch(i,{data:{key:e.imageURL}}).catch((function(e){return e}));case 16:t.$message.success("删除成功"),t.getFoodsList();case 18:case"end":return r.stop()}}),r)})))()},changeStatus:function(e){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function r(){var a,o,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(e.status),a=t.URL.Foods,r.next=4,t.$http.patch(a,{data:{id:e.id,status:e.status}}).catch((function(){t.$message.error("NETWORK ERROR")}));case 4:o=r.sent,n=o.data,200!==n.status&&t.$message.error("操作失败，请重试!"),t.$message.success("操作成功");case 8:case"end":return r.stop()}}),r)})))()},changeCover:function(e){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function r(){var a,o,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.URL.Foods,r.next=3,t.$http.patch(a,{data:{id:e.id,cover:e.cover}}).catch((function(){t.$message.error("NETWORK ERROR")}));case 3:o=r.sent,n=o.data,200!==n.status&&t.$message.error("操作失败，请重试!"),t.$message.success("操作成功");case 7:case"end":return r.stop()}}),r)})))()}},created:function(){this.getFoodsList(),this.getCategory()}}),Q=H,X=(r("a077"),r("21a5"),Object(l["a"])(Q,J,G,!1,null,"6be3f63e",null)),Y=X.exports,Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" 设置封面 ")])},ee=[],te={},re=Object(l["a"])(te,Z,ee,!1,null,null,null),ae=re.exports,oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-card",{attrs:{shadow:"hover"}},[r("el-row",{attrs:{gutter:5}},[r("el-col",{attrs:{span:6}},[r("el-input",{attrs:{placeholder:"请输入会员姓名 / 电话",clearable:""},on:{clear:e.getMemberList},model:{value:e.queryInfo.query,callback:function(t){e.$set(e.queryInfo,"query",t)},expression:"queryInfo.query"}})],1),r("el-col",{attrs:{span:4}},[r("el-button",{attrs:{type:"primary"},on:{click:e.getMemberList}},[e._v("查询")])],1)],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.res,border:"","row-class-name":e.tableRowClassName,size:"mini","header-cell-style":{background:"#ffd0bd",color:"#606266"}}},[r("el-table-column",{attrs:{type:"index",label:"#",align:"center"}}),r("el-table-column",{attrs:{prop:"avatar",label:"头像",width:"61%",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("el-avatar",{attrs:{src:e.row.avatar,icon:"el-icon-user-solid"}})]}}])}),r("el-table-column",{attrs:{prop:"nickname",label:"姓名",align:"center"}}),r("el-table-column",{attrs:{prop:"sex",label:"性别",formatter:e.formatSex,align:"center"}}),r("el-table-column",{attrs:{prop:"mobile",label:"电话",align:"center"}}),r("el-table-column",{attrs:{prop:"remain",label:"余额",align:"center"}}),r("el-table-column",{attrs:{label:"操作",width:"145%",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.handleEdit(t.row)}}},[e._v("编辑")]),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.handleDelete(t.row.id)}}},[e._v("删除")])]}}])})],1),r("el-dialog",{attrs:{title:"编辑内容",visible:e.editVisible},on:{"update:visible":function(t){e.editVisible=t}}},[r("el-form",{attrs:{model:e.editForm,rules:e.editRules}},[r("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.editForm.nickname,callback:function(t){e.$set(e.editForm,"nickname",t)},expression:"editForm.nickname"}})],1),r("el-form-item",{attrs:{label:"电话","label-width":e.formLabelWidth,prop:"mobile"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.editForm.mobile,callback:function(t){e.$set(e.editForm,"mobile",t)},expression:"editForm.mobile"}})],1),r("el-form-item",{attrs:{label:"余额","label-width":e.formLabelWidth,prop:"remain"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.editForm.remain,callback:function(t){e.$set(e.editForm,"remain",e._n(t))},expression:"editForm.remain"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("保 存")])],1)],1),r("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-sizes":[5,10],"page-size":e.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},ne=[],se={data:function(){return{editRules:{mobile:[{required:!0,message:"请输入电话号码"},{min:11,max:11,message:"号码长度为11位"}],remain:[{required:!0,message:"请输入余额"},{type:"number",message:"余额必须为数字"}]},queryInfo:{query:"",pagenum:1,pagesize:5},editVisible:!1,editForm:{},formLabelWidth:"80px",res:[],total:0,loading:!0}},methods:{tableRowClassName:function(e){var t=e.rowIndex;return 1===t?"warning-row":3===t?"success-row":""},getMemberList:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var r,a,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,r=e.URL.Member,a=[],t.next=5,e.$http.get(r,{params:e.queryInfo}).catch((function(){e.$message.error("NETWORK ERROR")}));case 5:o=t.sent,n=o.data,e.loading=!1,console.log(n),n.members.forEach((function(e){a.push(JSON.parse(e))})),e.res=a,e.total=n.total,console.log(e.res);case 13:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){console.log(e),this.queryInfo.pagesize=e,this.getMemberList()},handleCurrentChange:function(e){console.log(e),this.queryInfo.pagenum=e,this.getMemberList()},handleEdit:function(e){this.editVisible=!0,this.editForm=e},saveEdit:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.editVisible=!1,r=e.URL.Member,t.next=4,e.$http.patch(r,{data:{id:e.editForm.id,nickname:e.editForm.nickname,mobile:e.editForm.mobile,remain:e.editForm.remain}}).catch((function(){e.$message.error("NETWORK ERROR")}));case 4:a=t.sent,o=a.data,200!==o.status&&e.$message.error("修改失败，请重试"),e.$message.success("保存成功");case 8:case"end":return t.stop()}}),t)})))()},handleDelete:function(e){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function r(){var a,o,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(){t.$message.error("NETWORK ERROR")}));case 2:if(a=r.sent,"confirm"===a){r.next=5;break}return r.abrupt("return",t.$message.info("已经取消删除"));case 5:return console.log(a,e),o=t.URL.Member,r.next=9,t.$http.delete(o,{params:{id:e}}).catch((function(){t.$message.error("NETWORK ERROR")}));case 9:n=r.sent,s=n.data,200!==s.status&&t.$message.error("删除失败"),t.$message.success("删除成功"),t.getMemberList();case 14:case"end":return r.stop()}}),r)})))()},formatSex:function(e){return 1===e.sex?"男":"女"}},created:function(){this.getMemberList()}},ie=se,le=(r("9ed9"),r("35ee"),Object(l["a"])(ie,oe,ne,!1,null,"8a51efc0",null)),ce=le.exports,ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" 商务合作 ")])},de=[],me={},pe=Object(l["a"])(me,ue,de,!1,null,null,null),fe=pe.exports,ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("el-row",[r("el-col",{attrs:{span:14,offset:5}},[r("header",{staticClass:"form_header"},[e._v("选择商品分类")]),r("el-form",{ref:"categoryForm",staticClass:"form",attrs:{model:e.categoryForm,"label-width":"110px"}},[r("el-row",{staticClass:"category_select"},[r("el-form-item",{attrs:{label:"商品分类"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择商品分类"},model:{value:e.foodForm.category,callback:function(t){e.$set(e.foodForm,"category",t)},expression:"foodForm.category"}},e._l(e.categoryForm.categoryList,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1)],1),r("el-row",{staticClass:"add_category_row",class:e.showAddCategory?"showEdit":""},[r("div",{staticClass:"add_category"},[r("el-form-item",{attrs:{label:"商品分类",prop:"name"}},[r("el-input",{model:{value:e.categoryForm.name,callback:function(t){e.$set(e.categoryForm,"name",t)},expression:"categoryForm.name"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitCategoryForm("categoryForm")}}},[e._v("提交")])],1)],1)]),r("div",{staticClass:"add_category_button",on:{click:e.addCategoryFun}},[e.showAddCategory?r("i",{staticClass:"el-icon-caret-top edit_icon"}):r("i",{staticClass:"el-icon-caret-bottom edit_icon",attrs:{slot:"icon"},slot:"icon"}),r("span",[e._v("添加商品分类")])])],1),r("header",{staticClass:"form_header"},[e._v("添加商品")]),r("el-form",{ref:"foodForm",staticClass:"form food_form",attrs:{model:e.foodForm,rules:e.foodRules,"label-width":"110px"}},[r("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入商品名称",clearable:""},model:{value:e.foodForm.name,callback:function(t){e.$set(e.foodForm,"name",t)},expression:"foodForm.name"}})],1),r("el-form-item",{attrs:{label:"商品原价",prop:"priced"}},[r("el-input",{attrs:{placeholder:"请输入商品价格 只能为数字",clearable:""},model:{value:e.foodForm.priced,callback:function(t){e.$set(e.foodForm,"priced",e._n(t))},expression:"foodForm.priced"}})],1),r("el-form-item",{attrs:{label:"商品现价",prop:"price"}},[r("el-input",{attrs:{placeholder:"请输入商品价格 只能为数字",clearable:""},model:{value:e.foodForm.price,callback:function(t){e.$set(e.foodForm,"price",e._n(t))},expression:"foodForm.price"}})],1),r("el-form-item",{attrs:{label:"商品库存",prop:"stock"}},[r("el-input",{attrs:{placeholder:"请输入商品库存 只能为数字",clearable:""},model:{value:e.foodForm.stock,callback:function(t){e.$set(e.foodForm,"stock",e._n(t))},expression:"foodForm.stock"}})],1),r("el-form-item",{attrs:{label:"商品描述",prop:"description"}},[r("el-input",{ref:"upload",attrs:{type:"textarea",placeholder:"请输入商品描述",rows:4,maxlength:"100","show-word-limit":"",clearable:""},model:{value:e.foodForm.description,callback:function(t){e.$set(e.foodForm,"description",t)},expression:"foodForm.description"}})],1),r("el-form-item",{attrs:{label:"上传图片"}},[r("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:!0,action:e.uploadpath,"before-upload":e.beforeImgUpload,"on-success":e.handleSuccess,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-exceed":e.handleExceed,limit:1,"list-type":"picture"}},[r("i",{staticClass:"el-icon-upload"}),r("div",{staticClass:"el-upload__text"},[e._v(" 将图片拖到此处，或 "),r("em",[e._v("点击上传")])]),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过2MB")])])],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addFood("foodForm")}}},[e._v("确认添加")]),r("el-button",{attrs:{type:"info",icon:"el-icon-refresh-right"},on:{click:e.resetFood}},[e._v("重置")]),r("el-button",{attrs:{icon:"el-icon-d-arrow-left",plain:""},on:{click:e.gobackFoods}},[e._v("返回")])],1)],1)],1)],1),r("el-dialog",{attrs:{title:"图片预览",visible:e.previewVisible,width:"50%"},on:{"update:visible":function(t){e.previewVisible=t}}},[r("img",{staticClass:"previewImage",attrs:{src:e.previewPath}})])],1)},he=[],be=(r("a4d3"),r("4de4"),r("b0c0"),r("e439"),r("dbb4"),r("b64b"),r("ade3"));function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){Object(be["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var we={data:function(){return{foodRules:{name:[{required:!0,message:"名称不能为空"}],priced:[{required:!0,message:"价格不能为空"},{type:"number",message:"价格必须为数字"}],price:[{required:!0,message:"价格不能为空"},{type:"number",message:"价格必须为数字"}],stock:[{required:!0,message:"库存不能为空"},{type:"number",message:"库存必须为数字"}],description:[{required:!0,message:"描述不能为空"}]},categoryForm:{categoryList:[],name:""},showAddCategory:!1,foodForm:{category:"",name:"",priced:"",price:"",stock:"",description:"",imageName:"",imageURL:""},uploadpath:this.URL.Upload,previewPath:"",previewVisible:!1}},computed:{selectValue:function(){return this.categoryForm.categoryList[this.categoryForm.categorySelect]||{}}},watch:{$route:function(){this.getCategory()}},methods:{addCategoryFun:function(){this.showAddCategory=!this.showAddCategory},submitCategoryForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(r){var a,o,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return a=t.URL.Category,e.next=5,t.$http.post(a,{data:{name:t.categoryForm.name}}).catch((function(){t.$message.error("NETWORK ERROR")}));case 5:o=e.sent,n=o.data,200!==n.status&&t.$message.error("提交失败"),t.$message.success("提交成功"),t.getCategory();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getCategory:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var r,a,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.URL.Category,a=[],t.next=4,e.$http.get(r).catch((function(){e.$message.error("NETWORK ERROR")}));case 4:o=t.sent,n=o.data,n.forEach((function(e){a.push(JSON.parse(e))})),e.categoryForm.categoryList=a;case 8:case"end":return t.stop()}}),t)})))()},beforeImgUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,r=e.size/1024/1024<3;return t||this.$message.error("上传图片只能是 JPG 和 PNG 格式!"),r||this.$message.error("上传图片大小不能超过 3MB!"),t&&r},handleSuccess:function(e){if(200!==e.meta.status)return this.$message.error("上传失败");this.foodForm.imageURL=e.data.url,this.foodForm.imageName=e.data.imageName},handleRemove:function(e){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.URL.Upload,o=e.response,r.next=4,t.$http.patch(a,{data:{key:o.data.url}}).catch((function(e){return e}));case 4:case"end":return r.stop()}}),r)})))()},handlePreview:function(e){this.previewPath=e.response.data.url,this.previewVisible=!0,console.log(this.$refs.upload)},handleExceed:function(){this.$message.info("只能上传一张图片")},addFood:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(r){var a,o,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return a=t.URL.AddFoods,e.next=5,t.$http.post(a,{data:ye({},t.foodForm)});case 5:o=e.sent,n=o.data,200==n.meta.status&&t.$message.success("添加成功"),console.log(n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},resetFood:function(){this.$refs.foodForm.resetFields(),this.$refs.upload.clearFiles()},gobackFoods:function(){this.$router.push("/foods")}},created:function(){this.getCategory()}},Re=we,xe=(r("eca8"),Object(l["a"])(Re,ge,he,!1,null,null,null)),_e=xe.exports,Fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("el-row",[r("el-col",{attrs:{span:14,offset:5}},[r("header",{staticClass:"form_header"},[e._v("选择商品分类")]),r("el-form",{ref:"categoryForm",staticClass:"form",attrs:{model:e.categoryForm,"label-width":"110px"}},[r("el-row",{staticClass:"category_select"},[r("el-form-item",{attrs:{label:"商品分类"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择商品分类"},model:{value:e.foodForm.category,callback:function(t){e.$set(e.foodForm,"category",t)},expression:"foodForm.category"}},e._l(e.categoryForm.categoryList,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1)],1),r("el-row",{staticClass:"add_category_row",class:e.showAddCategory?"showEdit":""},[r("div",{staticClass:"add_category"},[r("el-form-item",{attrs:{label:"商品分类",prop:"name"}},[r("el-input",{model:{value:e.categoryForm.name,callback:function(t){e.$set(e.categoryForm,"name",t)},expression:"categoryForm.name"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitCategoryForm("categoryForm")}}},[e._v("提交")])],1)],1)]),r("div",{staticClass:"add_category_button",on:{click:e.addCategoryFun}},[e.showAddCategory?r("i",{staticClass:"el-icon-caret-top edit_icon"}):r("i",{staticClass:"el-icon-caret-bottom edit_icon",attrs:{slot:"icon"},slot:"icon"}),r("span",[e._v("添加商品分类")])])],1),r("header",{staticClass:"form_header"},[e._v("添加商品")]),r("el-form",{ref:"foodForm",staticClass:"form food_form",attrs:{model:e.foodForm,rules:e.foodRules,"label-width":"110px"}},[r("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入商品名称",clearable:""},model:{value:e.foodForm.name,callback:function(t){e.$set(e.foodForm,"name",t)},expression:"foodForm.name"}})],1),r("el-form-item",{attrs:{label:"商品原价",prop:"priced"}},[r("el-input",{attrs:{placeholder:"请输入商品价格 只能为数字",clearable:""},model:{value:e.foodForm.priced,callback:function(t){e.$set(e.foodForm,"priced",e._n(t))},expression:"foodForm.priced"}})],1),r("el-form-item",{attrs:{label:"商品现价",prop:"price"}},[r("el-input",{attrs:{placeholder:"请输入商品价格 只能为数字",clearable:""},model:{value:e.foodForm.price,callback:function(t){e.$set(e.foodForm,"price",e._n(t))},expression:"foodForm.price"}})],1),r("el-form-item",{attrs:{label:"商品库存",prop:"stock"}},[r("el-input",{attrs:{placeholder:"请输入商品库存 只能为数字",clearable:""},model:{value:e.foodForm.stock,callback:function(t){e.$set(e.foodForm,"stock",e._n(t))},expression:"foodForm.stock"}})],1),r("el-form-item",{attrs:{label:"商品描述",prop:"description"}},[r("el-input",{ref:"upload",attrs:{type:"textarea",placeholder:"请输入商品描述",rows:4,maxlength:"100","show-word-limit":"",clearable:""},model:{value:e.foodForm.description,callback:function(t){e.$set(e.foodForm,"description",t)},expression:"foodForm.description"}})],1),r("el-form-item",{attrs:{label:"上传图片"}},[r("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:!0,action:e.uploadpath,"before-upload":e.beforeImgUpload,"on-success":e.handleSuccess,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-exceed":e.handleExceed,limit:1,"file-list":e.fileList,"list-type":"picture"}},[r("i",{staticClass:"el-icon-upload"}),r("div",{staticClass:"el-upload__text"},[e._v(" 将图片拖到此处，或 "),r("em",[e._v("点击上传")])]),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过2MB")])])],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addFood("foodForm")}}},[e._v("保存修改")]),r("el-button",{attrs:{type:"info",icon:"el-icon-refresh-right"},on:{click:e.resetFood}},[e._v("重置")]),r("el-button",{attrs:{icon:"el-icon-d-arrow-left",plain:""},on:{click:e.gobackFoods}},[e._v("返回")])],1)],1)],1)],1),r("el-dialog",{attrs:{title:"图片预览",visible:e.previewVisible,width:"50%"},on:{"update:visible":function(t){e.previewVisible=t}}},[r("img",{staticClass:"previewImage",attrs:{src:e.previewPath}})])],1)},$e=[];function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(r),!0).forEach((function(t){Object(be["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ce={data:function(){return{foodRules:{name:[{required:!0,message:"名称不能为空"}],price:[{required:!0,message:"价格不能为空"},{type:"number",message:"价格必须为数字"}],priced:[{required:!0,message:"价格不能为空"},{type:"number",message:"价格必须为数字"}],stock:[{required:!0,message:"库存不能为空"},{type:"number",message:"库存必须为数字"}],description:[{required:!0,message:"描述不能为空"}]},categoryForm:{categoryList:[],name:""},showAddCategory:!1,foodForm:{category:"",name:"",priced:"",price:"",stock:"",description:"",imageName:"",imageURL:""},uploadpath:this.URL.Upload,previewPath:"",previewVisible:!1,fileList:[]}},computed:{selectValue:function(){return this.categoryForm.categoryList[this.categoryForm.categorySelect]||{}}},watch:{$route:function(){this.getCategory(),this.loadData()}},methods:{loadData:function(){this.fileList=[];var e=this.$route.params;this.foodForm=e,this.fileList.push({name:this.foodForm.imageName,url:this.foodForm.imageURL})},addCategoryFun:function(){this.showAddCategory=!this.showAddCategory},submitCategoryForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(r){var a,o,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return a=t.URL.Category,e.next=5,t.$http.post(a,{data:{name:t.categoryForm.name}}).catch((function(){t.$message.error("NETWORK ERROR")}));case 5:o=e.sent,n=o.data,200!==n.status&&t.$message.error("提交失败"),t.$message.success("提交成功"),t.getCategory();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getCategory:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var r,a,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.URL.Category,a=[],t.next=4,e.$http.get(r).catch((function(){return e.$message.error("NETWORK ERROR")}));case 4:o=t.sent,n=o.data,n.forEach((function(e){a.push(JSON.parse(e))})),e.categoryForm.categoryList=a;case 8:case"end":return t.stop()}}),t)})))()},beforeImgUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,r=e.size/1024/1024<2;return t||this.$message.error("上传图片只能是 JPG 和 PNG 格式!"),r||this.$message.error("上传图片大小不能超过 2MB!"),t&&r},handleSuccess:function(e){if(200!==e.meta.status)return this.$message.error("上传失败");this.foodForm.imageURL=e.data.url},handleRemove:function(e){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.URL.Upload,o=e.response,r.next=4,t.$http.patch(a,{data:{key:o.data.url}}).catch((function(e){return e}));case 4:case"end":return r.stop()}}),r)})))()},handlePreview:function(e){void 0===e.response?this.previewPath=e.url:this.previewPath=e.response.data.url,this.previewVisible=!0},handleExceed:function(){this.$message.info("只能上传一张图片")},addFood:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(r){var a,o,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return a=t.URL.Foods,e.next=5,t.$http.post(a,{data:Oe({},t.foodForm)}).catch((function(){return t.$message.error("NETWORK ERROR")}));case 5:o=e.sent,n=o.data,200==n.meta.status&&t.$message.success("保存成功"),console.log(n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log(this.categorySelect)},resetFood:function(){this.$refs.foodForm.resetFields(),this.$refs.upload.clearFiles()},gobackFoods:function(){this.$router.push("/foods"),this.$refs.upload.clearFiles()}},created:function(){this.loadData(),this.getCategory()}},Le=Ce,Ee=(r("3a27"),Object(l["a"])(Le,Fe,$e,!1,null,null,null)),je=Ee.exports,qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-card",{attrs:{shadow:"hover"}},[e._v(" 这是商品详情 ")])],1)},Se=[],ze={},Ie=Object(l["a"])(ze,qe,Se,!1,null,null,null),Ue=Ie.exports,Pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-card",{attrs:{shadow:"hover"}},[r("el-row",{attrs:{gutter:5}},[r("el-col",{attrs:{span:6}},[r("el-input",{attrs:{placeholder:"请输入分类名称",clearable:""},on:{clear:e.getCategoryList},model:{value:e.queryInfo.query,callback:function(t){e.$set(e.queryInfo,"query",t)},expression:"queryInfo.query"}})],1),r("el-col",{attrs:{span:4}},[r("el-button",{attrs:{type:"primary"},on:{click:e.getCategoryList}},[e._v("查询")])],1)],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.res,border:"","row-class-name":e.tableRowClassName,size:"mini","header-cell-style":{background:"#ffd0bd",color:"#606266"}}},[r("el-table-column",{attrs:{type:"index",label:"#",align:"center"}}),r("el-table-column",{attrs:{prop:"name",label:"分类名称",align:"center"}}),r("el-table-column",{attrs:{prop:"updated_time",label:"修改时间",align:"center"}}),r("el-table-column",{attrs:{prop:"created_time",label:"创建时间",align:"center"}}),r("el-table-column",{attrs:{label:"操作",width:"145%",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.handleEdit(t.row)}}},[e._v("编辑")]),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.handleDelete(t.row.id)}}},[e._v("删除")])]}}])})],1),r("el-dialog",{attrs:{title:"编辑内容",visible:e.editVisible},on:{"update:visible":function(t){e.editVisible=t}}},[r("el-form",{attrs:{model:e.editForm}},[r("el-form-item",{attrs:{label:"分类","label-width":e.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("保 存")])],1)],1),r("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-sizes":[10,20],"page-size":e.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},Ne=[];function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?We(Object(r),!0).forEach((function(t){Object(be["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Te={data:function(){return{queryInfo:{query:"",pagenum:1,pagesize:10},editVisible:!1,editForm:{},formLabelWidth:"80px",res:[],total:0,loading:!0}},methods:{tableRowClassName:function(e){var t=e.rowIndex;return 1===t?"warning-row":3===t?"success-row":""},getCategoryList:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var r,a,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,r=e.URL.Categories,a=[],t.next=5,e.$http.get(r,{params:e.queryInfo}).catch((function(){e.$message.error("NETWORK ERROR")}));case 5:o=t.sent,n=o.data,e.loading=!1,console.log(n),n.categories.forEach((function(e){a.push(JSON.parse(e))})),e.res=a,e.total=n.total,console.log(e.res);case 13:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){console.log(e),this.queryInfo.pagesize=e,this.getCategoryList()},handleCurrentChange:function(e){console.log(e),this.queryInfo.pagenum=e,this.getCategoryList()},handleEdit:function(e){this.editVisible=!0,this.editForm=e},saveEdit:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.editVisible=!1,r=e.URL.Categories,t.next=4,e.$http.patch(r,{data:Ve({},e.editForm)}).catch((function(){e.$message.error("NETWORK ERROR")}));case 4:a=t.sent,o=a.data,200!==o.status&&e.$message.error("修改失败，请重试"),e.$message.success("保存成功");case 8:case"end":return t.stop()}}),t)})))()},handleDelete:function(e){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function r(){var a,o,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(){t.$message.error("NETWORK ERROR")}));case 2:if(a=r.sent,"confirm"===a){r.next=5;break}return r.abrupt("return",t.$message.info("已经取消删除"));case 5:return console.log(a,e),o=t.URL.Categories,r.next=9,t.$http.delete(o,{params:{id:e}}).catch((function(){t.$message.error("NETWORK ERROR")}));case 9:n=r.sent,s=n.data,200!==s.status&&t.$message.error("删除失败"),t.$message.success("删除成功"),t.getCategoryList();case 14:case"end":return r.stop()}}),r)})))()},formatSex:function(e){return 1===e.sex?"男":"女"}},created:function(){this.getCategoryList()}},De=Te,Ke=(r("de0d"),r("a24e"),Object(l["a"])(De,Pe,Ne,!1,null,"26e7ac96",null)),Me=Ke.exports;a["default"].use(d["a"]);var Ae=[{path:"/",redirect:"/login"},{path:"/home",name:"Home",component:C,redirect:"/welcome",meta:["首页"],children:[{path:"/welcome",component:V,meta:["首页"]},{path:"/order",name:"Order",component:B,meta:["订单管理","订单列表"]},{path:"/foods",name:"Foods",component:Y,meta:["商品管理","商品列表"]},{path:"/addfoods",name:"AddFoods",component:_e,meta:["商品管理","添加商品"]},{path:"/viewfoods",name:"ViewFoods",component:Ue,meta:["商品管理","商品列表","查看商品"]},{path:"/category",name:"Category",component:Me,meta:["商品管理","分类列表"]},{path:"/editfoods",name:"EditFoods",component:je,meta:["商品管理","商品列表","编辑商品"]},{path:"/cover",component:ae,meta:["商品管理","设置封面"]},{path:"/member",component:ce,meta:["会员管理","会员列表"]},{path:"/business",component:fe,meta:["商务合作","发布推文"]}]},{path:"/login",name:"Login",component:I}],Be=new d["a"]({routes:Ae});Be.beforeEach((function(e,t,r){if("/login"===e.path)return r();var a=window.localStorage.getItem("admin_token");if(!a)return r("/login");r()}));var Je=Be,Ge=r("bc3a"),He=r.n(Ge),Qe=(r("9e1f"),r("450d"),r("6ed5")),Xe=r.n(Qe),Ye=(r("0fb7"),r("f529")),Ze=r.n(Ye),et=(r("acb6"),r("c673")),tt=r.n(et),rt=(r("cbb5"),r("8bbc")),at=r.n(rt),ot=(r("be4f"),r("896a")),nt=r.n(ot),st=(r("f225"),r("89a9")),it=r.n(st),lt=(r("a7cc"),r("df33")),ct=r.n(lt),ut=(r("920a"),r("4f0c")),dt=r.n(ut),mt=(r("672e"),r("101e")),pt=r.n(mt),ft=(r("e960"),r("b35b")),gt=r.n(ft),ht=(r("7a0f"),r("0f6c")),bt=r.n(ht),vt=(r("f4f9"),r("c2cc")),yt=r.n(vt),wt=(r("6611"),r("e772")),Rt=r.n(wt),xt=(r("1f1a"),r("4e4b")),_t=r.n(xt),Ft=(r("b8e0"),r("a4c4")),$t=r.n(Ft),kt=(r("5466"),r("ecdf")),Ot=r.n(kt),Ct=(r("38a0"),r("ad41")),Lt=r.n(Ct),Et=(r("bd49"),r("18ff")),jt=r.n(Et),qt=(r("960d"),r("defb")),St=r.n(qt),zt=(r("cb70"),r("b370")),It=r.n(zt),Ut=(r("b84d"),r("c216")),Pt=r.n(Ut),Nt=(r("8f24"),r("76b9")),Wt=r.n(Nt),Vt=(r("de31"),r("c69e")),Tt=r.n(Vt),Dt=(r("a673"),r("7b31")),Kt=r.n(Dt),Mt=(r("a769"),r("5cc3")),At=r.n(Mt),Bt=(r("adec"),r("3d2d")),Jt=r.n(Bt),Gt=(r("ce18"),r("f58e")),Ht=r.n(Gt),Qt=(r("34db"),r("3803")),Xt=r.n(Qt),Yt=(r("8bd8"),r("4cb2")),Zt=r.n(Yt),er=(r("4ca3"),r("443e")),tr=r.n(er),rr=(r("10cb"),r("f3ad")),ar=r.n(rr),or=(r("eca7"),r("3787")),nr=r.n(or),sr=(r("425f"),r("4105")),ir=r.n(sr),lr=(r("1951"),r("eedf")),cr=r.n(lr);a["default"].use(cr.a),a["default"].use(ir.a),a["default"].use(nr.a),a["default"].use(ar.a),a["default"].use(tr.a),a["default"].use(Zt.a),a["default"].use(Xt.a),a["default"].use(Ht.a),a["default"].use(Jt.a),a["default"].use(At.a),a["default"].use(Kt.a),a["default"].use(Tt.a),a["default"].use(Wt.a),a["default"].use(Pt.a),a["default"].use(It.a),a["default"].use(St.a),a["default"].use(jt.a),a["default"].use(Lt.a),a["default"].use(Ot.a),a["default"].use($t.a),a["default"].use(_t.a),a["default"].use(Rt.a),a["default"].use(yt.a),a["default"].use(bt.a),a["default"].use(gt.a),a["default"].use(pt.a),a["default"].use(dt.a),a["default"].use(ct.a),a["default"].use(it.a),a["default"].use(nt.a),a["default"].use(at.a),a["default"].use(tt.a),a["default"].prototype.$message=Ze.a,a["default"].prototype.$confirm=Xe.a.confirm;r("aede"),r("82da");var ur="http://120.26.184.67:5000",dr=ur+"/login",mr=ur+"/vue/member",pr=ur+"/vue/addfoods",fr=ur+"/vue/category",gr=ur+"/vue/categories",hr=ur+"/vue/upload",br=ur+"/vue/foods",vr={BASE_URL:ur,Login:dr,Member:mr,AddFoods:pr,Category:fr,Categories:gr,Upload:hr,Foods:br},yr=r("2f62");a["default"].use(yr["a"]);var wr=new yr["a"].Store({state:{},mutations:{},actions:{},modules:{}});a["default"].config.productionTip=!1,He.a.interceptors.request.use((function(e){return console.log(e),e.headers.Authorization=window.localStorage.getItem("admin_token"),e})),a["default"].prototype.URL=vr,a["default"].prototype.$http=He.a,new a["default"]({router:Je,store:wr,render:function(e){return e(u)}}).$mount("#app")},"59ec":function(e,t,r){"use strict";var a=r("0f7f"),o=r.n(a);o.a},"82da":function(e,t,r){},9698:function(e,t,r){},"9ed9":function(e,t,r){"use strict";var a=r("9698"),o=r.n(a);o.a},a077:function(e,t,r){"use strict";var a=r("b690"),o=r.n(a);o.a},a24e:function(e,t,r){"use strict";var a=r("c4be"),o=r.n(a);o.a},ab8b:function(e,t,r){},ae30:function(e,t,r){"use strict";var a=r("ab8b"),o=r.n(a);o.a},aede:function(e,t,r){},b690:function(e,t,r){},b707:function(e,t,r){},c4be:function(e,t,r){},c63e:function(e,t,r){},d408:function(e,t,r){"use strict";var a=r("f0cf"),o=r.n(a);o.a},dbc4:function(e,t,r){},de0d:function(e,t,r){"use strict";var a=r("b707"),o=r.n(a);o.a},e657:function(e,t,r){},eca8:function(e,t,r){"use strict";var a=r("f8c3"),o=r.n(a);o.a},f0cf:function(e,t,r){},f8c3:function(e,t,r){}});
//# sourceMappingURL=app.c986bf3f.js.map